<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Mood â†’ Workout Recommender â€” Nadim Sheikh</title>
  <meta name="description" content="A compact, psychology-informed Mood to Workout recommender. Static demo â€” no backend.">
  <style>
    /* -------------------------
       VARIABLES & BASE
       ------------------------- */
    :root{
      --bg-1:#041022;
      --bg-2:#07162a;
      --card:#071726;
      --muted:#9bb0c3;
      --accent-1:#67e6ff;
      --accent-2:#3ad6c9;
      --glass: rgba(255,255,255,0.03);
      --glass-2: rgba(255,255,255,0.02);
      --accent-ink:#042026;
      --success:#e8fbff;
      --radius:14px;
      --shadow-lg: 0 18px 40px rgba(2,10,20,0.6);
      --shadow-sm: 0 6px 18px rgba(2,6,12,0.45);
      font-family: Inter, "Segoe UI", Roboto, system-ui, -apple-system, "Helvetica Neue", Arial;
    }

    html,body{height:100%;margin:0;background:
      radial-gradient(900px 400px at 12% 10%, rgba(12,40,70,0.12), transparent 8%),
      linear-gradient(180deg,var(--bg-1), var(--bg-2));
      color:#eaf8ff; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
      display:flex; align-items:center; justify-content:center; padding:48px; }

    /* -------------------------
       LAYOUT
       ------------------------- */
    .wrap{width:100%;max-width:720px;margin:0 auto;display:flex;flex-direction:column;gap:18px;align-items:stretch}
    header{display:block;margin-bottom:6px}
    h1{margin:0;font-size:20px;line-height:1.02}
    p.lead{margin:6px 0 0 0;color:var(--muted);font-size:13px}

    /* -------------------------
       CARD
       ------------------------- */
    .card{
      background: linear-gradient(180deg,var(--glass), var(--glass-2));
      border-radius: var(--radius); padding:18px; box-shadow:var(--shadow-lg); border:1px solid rgba(255,255,255,0.03);
      backdrop-filter: blur(8px);
      transition: transform .42s cubic-bezier(.22,.9,.3,1);
    }
    .card:hover{ transform: translateY(-4px) }

    .row{display:flex;gap:12px;flex-wrap:wrap}
    .col{flex:1;min-width:200px}
    label{display:block;color:var(--muted);font-size:13px;margin-bottom:8px}
    .slider-wrap{background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005));padding:10px;border-radius:10px}
    input[type="range"]{width:100%;accent-color: var(--accent-1)}

    .controls{display:flex; gap:10px; align-items:center}
    .btn{
      background:linear-gradient(180deg,var(--accent-1), #39d7e3); border:none; color:var(--accent-ink); padding:10px 14px; border-radius:10px; font-weight:800;
      cursor:pointer; box-shadow:var(--shadow-sm); transition: transform .16s ease, box-shadow .16s ease;
    }
    .btn:hover{ transform: translateY(-3px); box-shadow: 0 20px 40px rgba(15,113,131,0.12) }
    .btn.secondary{ background:transparent; color:var(--muted); border:1px solid rgba(255,255,255,0.03); font-weight:700 }
    .btn.secondary:hover{ color:#e6fbff; transform: translateY(-2px) }

    /* -------------------------
       RESULT CARD
       ------------------------- */
    .result{
      margin-top:14px; padding:14px; border-radius:12px; background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005));
      border-left:4px solid rgba(103,230,255,0.06); opacity:0; transform:translateY(12px); transition: all .36s cubic-bezier(.2,.9,.25,1);
    }
    .result.show{opacity:1; transform:translateY(0)}
    .result h3{margin:0 0 8px 0;font-size:16px}
    .result p{margin:0;color:var(--success);white-space:pre-wrap;font-size:14px}
    .result .sub{display:block;margin-top:10px;color:var(--muted);font-size:13px}
    .meta-list{margin-top:10px;color:var(--muted);font-size:13px}

    .actions{display:flex;gap:8px;margin-top:10px;flex-wrap:wrap}
    .micro { background: rgba(255,255,255,0.02); padding:8px 10px; border-radius:8px; color:var(--muted); border:1px solid rgba(255,255,255,0.02); font-weight:700; font-size:13px }

    /* glow behind card */
    .glow{
      position:relative;margin-top:-28px;height:120px;pointer-events:none;
    }
    .glow:before{
      content:""; position:absolute; left:50%; transform:translateX(-50%); width:84%; height:140px; border-radius:28px;
      background: radial-gradient(450px 120px at 50% 10%, rgba(103,230,255,0.06), transparent 30%);
      filter: blur(22px); z-index:0;
    }

    /* small helper & footer */
    footer{display:flex; align-items:center; gap:12px; color:var(--muted); font-size:13px; padding-top:6px}
    .summary{margin-top:12px;color:var(--muted);font-size:13px}

    /* small screens */
    @media (max-width:640px){
      .glow{display:none}
      .row{gap:8px}
      body{padding:24px}
    }

    /* minor header adjustments to center & balance since hero/badge removed */
    header { padding-left: 2px; }
  </style>
</head>
<body>
  <main class="wrap" role="main" aria-labelledby="appTitle">
    <!-- CLEAN HEADER: no hero image, no badge -->
    <header>
      <h1 id="appTitle">Mood â†’ Workout Recommender</h1>
      <p class="lead">Psychology-informed quick recommendations using simple, explainable rules. Static demo â€” no backend.</p>
    </header>

    <!-- MAIN CARD -->
    <section class="card" aria-labelledby="inputsHeading">
      <h2 id="inputsHeading" style="position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden;">Inputs</h2>

      <div class="row">
        <div class="col">
          <label for="mood">Mood (0 sad â€” 10 happy): <strong id="moodVal">6</strong></label>
          <div class="slider-wrap">
            <input id="mood" type="range" min="0" max="10" value="6" aria-label="Mood slider">
          </div>
        </div>

        <div class="col">
          <label for="stress">Stress (0 low â€” 10 high): <strong id="stressVal">5</strong></label>
          <div class="slider-wrap">
            <input id="stress" type="range" min="0" max="10" value="5" aria-label="Stress slider">
          </div>
        </div>
      </div>

      <div class="row" style="align-items:center;margin-top:10px">
        <div style="flex:1;min-width:220px">
          <label for="sleep">Sleep last night (hours / 10): <strong id="sleepVal">7</strong></label>
          <div class="slider-wrap">
            <input id="sleep" type="range" min="0" max="10" value="7" aria-label="Sleep slider">
          </div>
        </div>

        <div style="display:flex;gap:10px;align-items:center">
          <button id="go" class="btn" aria-controls="result">Get Recommendation</button>
          <button id="sample" class="btn secondary" title="Try sample scenarios">Try sample</button>
          <button id="reset" class="btn secondary" title="Reset sliders to defaults">Reset</button>
        </div>
      </div>

      <div class="glow" aria-hidden="true"></div>

      <section id="result" class="result" role="status" aria-live="polite">
        <!-- populated by JS -->
      </section>

      <div class="summary">Psychology note: suggestions aim to regulate affect (mood), reduce physiological arousal (stress) and support recovery (sleep).</div>
    </section>

    <!-- FOOTER: only the required text -->
    <footer>
      <div>Built by <strong>Nadim Sheikh</strong></div>
    </footer>
  </main>

  <script>
    /* -------------------------
       CONTENT: richer suggestions with exercises + quick options
       ------------------------- */
    const SUGGESTIONS = {
      sleep_recovery: {
        title: "ðŸ›Œ Sleep Recovery + Low-Arousal Recovery",
        short: "Prioritize rest and low-arousal recovery before high-intensity exercise.",
        description: `When sleep is extremely low, the nervous system is fragile. Focus on restorative breathing, very light mobility, and rest. Avoid heavy resistance or long cardio until you get restorative sleep.`,
        quick: "10-min: 6â€“8 min guided breathing + 2â€“4 min gentle mobility (neck/shoulder/hip circles).",
        steps: [
          "2â€“3 min diaphragmatic breathing (4s in, 6s out)",
          "5â€“8 min gentle mobility: cat-cow, hip circles, shoulder rolls",
          "Optional: 10â€“20 min light walk if you feel alert enough"
        ],
        why: [
          "Sleep deprivation amplifies stress and injury risk.",
          "Low-arousal recovery reduces sympathetic activation and supports cognitive recovery."
        ],
        intensity: "Low"
      },

      grounding_stress: {
        title: "ðŸ§˜ Grounding + Short Low-Intensity Movement",
        short: "Immediate grounding + short, low-intensity movement to reduce acute stress.",
        description: `Start with 3â€“5 minutes of grounding breathing, then a short gentle routine (mobility/walk). This reduces physiological arousal and gives instant affect regulation.`,
        quick: "10-min: 3 min box/belly breathing + 7 min brisk walk or mobility flow.",
        steps: [
          "3â€“5 min box (4-4-4-4) or 4-6 diaphragmatic breaths",
          "5â€“7 min brisk walking or alternating standing marches",
          "2 min progressive muscle relaxation (tension/release)"
        ],
        why: [
          "Breathing slows heart rate and reduces the stress response.",
          "Short movement releases tension without raising arousal too much."
        ],
        intensity: "Very low â€” Low"
      },

      mood_activation: {
        title: "ðŸƒ Behavioral Activation â€” Short Cardio Burst",
        short: "Short, focused cardio to raise mood and energy.",
        description: `Use a 20-minute moderate cardio session to trigger endorphin release and increase positive affect. If energy is low, reduce duration to 10â€“12 minutes.`,
        quick: "10-min: 5 min warm-up + 7â€“8 min moderate steady-state cardio.",
        steps: [
          "5 min warm-up (dynamic movements)",
          "12â€“20 min moderate cardio (brisk walk/jog/cycle)",
          "3â€“5 min cool down + breathing"
        ],
        why: [
          "Rhythmic cardio has a robust mood-lifting effect.",
          "Short sessions reduce activation barriers and build momentum."
        ],
        intensity: "Moderate"
      },

      strength_boost: {
        title: "ðŸ’ª Strength Session â€” Full Body",
        short: "Resistance training for competence and self-efficacy.",
        description: `A 30â€“40 minute full-body resistance session focusing on compound movements (squats, push, hinge). Good for days with higher mood and low stress.`,
        quick: "10-min: 2â€“3 rounds of a mini-circuit (bodyweight squats, push-ups, plank).",
        steps: [
          "3â€“5 min warm-up",
          "3â€“5 sets of compound moves (squat, row/pull, hinge)",
          "5â€“8 min mobility + breathing"
        ],
        why: [
          "Strength training improves perceived control and long-term mood.",
          "Structured progress supports self-efficacy."
        ],
        intensity: "Moderate â€” High"
      },

      balanced: {
        title: "âš–ï¸ Balanced Session",
        short: "A safe mixed session when no single factor dominates.",
        description: `A 30-minute balanced routine mixing warm-up, moderate work, and cool-down. Useful as a daily default and for tracking responses.`,
        quick: "10-min: 3 min warm-up, 5 min focused work, 2 min cool-down.",
        steps: [
          "8 min warm-up (mobility + light cardio)",
          "15 min focused work (cardio or strength)",
          "7 min cool-down + breathing"
        ],
        why: [
          "Balanced sessions allow experimenting with what helps your mood most.",
          "Tracking helps identify patterns across days."
        ],
        intensity: "Moderate"
      }
    };

    /* -------------------------
       BINDINGS
       ------------------------- */
    const mood = document.getElementById('mood');
    const stress = document.getElementById('stress');
    const sleep = document.getElementById('sleep');
    const moodVal = document.getElementById('moodVal');
    const stressVal = document.getElementById('stressVal');
    const sleepVal = document.getElementById('sleepVal');
    const go = document.getElementById('go');
    const sample = document.getElementById('sample');
    const reset = document.getElementById('reset');
    const result = document.getElementById('result');

    function updateLabels(){
      moodVal.textContent = mood.value;
      stressVal.textContent = stress.value;
      sleepVal.textContent = sleep.value;
    }
    [mood, stress, sleep].forEach(el => el.addEventListener('input', updateLabels));
    updateLabels();

    /* -------------------------
       CORE DECISION: improved, priority-aware
       ------------------------- */
    function decideRecommendation(m, s, sl) {
      // m: mood 0-10 (0 sad)
      // s: stress 0-10 (10 high)
      // sl: sleep 0-10 (hours /10) so sl=0 means 0 hours

      // Priority rules:
      // 1) If very low sleep (<=2) => sleep recovery first
      // 2) If extreme stress (>=9) AND low mood (<=3) => combined grounding + brief activation
      // 3) If extreme stress (>=8) => grounding_stress
      // 4) If very low mood (<=4) => mood_activation
      // 5) If low sleep (<=4) => sleep_recovery (less urgent than <=2)
      // 6) If high mood & low stress => strength_boost
      // 7) default => balanced

      // We'll also detect when multiple signals present and add a secondary suggestion.

      const primaryCandidates = [];
      const secondary = [];

      if (sl <= 2) {
        primaryCandidates.push('sleep_recovery');
        // If stress is extremely high too, suggest grounding as secondary
        if (s >= 8) secondary.push('grounding_stress');
        return { primary: primaryCandidates[0], secondary: secondary[0] || null };
      }

      if (s >= 9 && m <= 3) {
        primaryCandidates.push('grounding_stress');
        secondary.push('mood_activation'); // short activation after grounding
        return { primary: primaryCandidates[0], secondary: secondary[0] };
      }

      if (s >= 8) {
        primaryCandidates.push('grounding_stress');
        if (m <= 4) secondary.push('mood_activation');
        return { primary: primaryCandidates[0], secondary: secondary[0] || null };
      }

      if (m <= 4) {
        primaryCandidates.push('mood_activation');
        if (sl <= 4) secondary.push('sleep_recovery');
        return { primary: primaryCandidates[0], secondary: secondary[0] || null };
      }

      if (sl <= 4) {
        primaryCandidates.push('sleep_recovery');
        return { primary: primaryCandidates[0], secondary: null };
      }

      if (m >= 7 && s <= 4) {
        primaryCandidates.push('strength_boost');
        return { primary: primaryCandidates[0], secondary: null };
      }

      // fallback
      return { primary: 'balanced', secondary: null };
    }

    /* -------------------------
       RENDERING: friendly, actionable, and explainable
       ------------------------- */
    function renderRecommendation(primaryKey, secondaryKey, reported) {
      const primary = SUGGESTIONS[primaryKey];
      const secondary = secondaryKey ? SUGGESTIONS[secondaryKey] : null;

      // build "Why this" bullets
      const whyBullets = [];
      primary.why.forEach(w => whyBullets.push(w));
      if (secondary) {
        whyBullets.push(`Also suggested: ${secondary.title} â€” helps address ${secondary.short.toLowerCase()}.`);
      }

      // intensity hint
      const intensity = primary.intensity || (primaryKey === 'balanced' ? 'Moderate' : 'Low');

      // Build actionable markup
      let stepsHtml = '';
      if (primary.steps && primary.steps.length) {
        stepsHtml = '<ul style="margin:8px 0 0 18px;color:var(--success)">';
        primary.steps.forEach(s => stepsHtml += `<li>${s}</li>`);
        stepsHtml += '</ul>';
      }

      // Quick 10-min option
      const quick = primary.quick ? `<div style="margin-top:10px"><strong>If 10 minutes:</strong> ${primary.quick}</div>` : '';

      // Secondary suggestion box
      const secondaryHtml = secondary ? `
        <div style="margin-top:12px;padding:12px;border-radius:10px;background:rgba(255,255,255,0.01);border:1px solid rgba(255,255,255,0.02)">
          <strong style="display:block;margin-bottom:6px;color:var(--muted)">${secondary.title}</strong>
          <div style="color:var(--muted);font-size:13px">${secondary.short}</div>
        </div>
      ` : '';

      // meta
      const metaText = `You reported mood ${reported.m}, stress ${reported.s}, sleep ${reported.sl}. Suggested intensity: ${intensity}.`;

      // Render
      result.classList.remove('show');
      setTimeout(() => {
        result.innerHTML = `
          <h3>${primary.title}</h3>
          <p>${primary.description}</p>
          ${stepsHtml}
          ${quick}
          ${secondaryHtml}
          <div class="meta-list">
            <strong>Why this?</strong>
            <ul style="margin:6px 0 0 18px;color:var(--muted);font-size:13px">
              ${whyBullets.map(b => `<li>${b}</li>`).join('')}
            </ul>
          </div>
          <div class="sub" style="margin-top:10px">${metaText}</div>
        `;
        result.classList.add('show');
      }, 80);
    }

    /* -------------------------
       EVENTS
       ------------------------- */
    go.addEventListener('click', () => {
      const m = Number(mood.value);
      const s = Number(stress.value);
      const sl = Number(sleep.value);

      const decision = decideRecommendation(m, s, sl);
      renderRecommendation(decision.primary, decision.secondary, { m, s, sl });
    });

    sample.addEventListener('click', () => {
      const scenarios = [
        {m:1,s:10,sl:0},   // very stressed + no sleep
        {m:3,s:8,sl:6},    // low mood + high stress
        {m:2,s:4,sl:2},    // low mood + poor sleep
        {m:8,s:2,sl:8},    // active day
      ];
      const s = scenarios[Math.floor(Math.random()*scenarios.length)];
      mood.value = s.m; stress.value = s.s; sleep.value = s.sl;
      updateLabels();
      const decision = decideRecommendation(s.m, s.s, s.sl);
      renderRecommendation(decision.primary, decision.secondary, { m: s.m, s: s.s, sl: s.sl });
    });

    reset.addEventListener('click', () => {
      mood.value = 6; stress.value = 5; sleep.value = 7; updateLabels();
      const dec = decideRecommendation(6,5,7);
      renderRecommendation(dec.primary, dec.secondary, { m:6, s:5, sl:7 });
    });

    // show default on load
    const initial = decideRecommendation(6,5,7);
    renderRecommendation(initial.primary, initial.secondary, { m:6, s:5, sl:7 });

    // accessibility: Enter on sliders triggers get recommendation
    [mood, stress, sleep].forEach(s => s.addEventListener('keydown', (e) => {
      if (e.key === 'Enter') go.click();
    }));
  </script>
</body>
</html>
